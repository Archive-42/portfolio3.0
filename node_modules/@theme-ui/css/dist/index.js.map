{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["export const get = (obj, key, def, p, undef) => {\n  key = key && key.split ? key.split('.') : [key]\n  for (p = 0; p < key.length; p++) {\n    obj = obj ? obj[key[p]] : undef\n  }\n  return obj === undef ? def : obj\n}\n\nconst defaultBreakpoints = [40, 52, 64].map(n => n + 'em')\n\nconst defaultTheme = {\n  space: [0, 4, 8, 16, 32, 64, 128, 256, 512],\n  fontSizes: [12, 14, 16, 20, 24, 32, 48, 64, 72],\n}\n\nconst aliases = {\n  bg: 'backgroundColor',\n  m: 'margin',\n  mt: 'marginTop',\n  mr: 'marginRight',\n  mb: 'marginBottom',\n  ml: 'marginLeft',\n  mx: 'marginX',\n  my: 'marginY',\n  p: 'padding',\n  pt: 'paddingTop',\n  pr: 'paddingRight',\n  pb: 'paddingBottom',\n  pl: 'paddingLeft',\n  px: 'paddingX',\n  py: 'paddingY',\n}\n\nconst multiples = {\n  marginX: ['marginLeft', 'marginRight'],\n  marginY: ['marginTop', 'marginBottom'],\n  paddingX: ['paddingLeft', 'paddingRight'],\n  paddingY: ['paddingTop', 'paddingBottom'],\n  size: ['width', 'height'],\n}\n\nconst scales = {\n  color: 'colors',\n  backgroundColor: 'colors',\n  borderColor: 'colors',\n  caretColor: 'colors',\n  columnRuleColor: 'colors',\n  margin: 'space',\n  marginTop: 'space',\n  marginRight: 'space',\n  marginBottom: 'space',\n  marginLeft: 'space',\n  marginX: 'space',\n  marginY: 'space',\n  padding: 'space',\n  paddingTop: 'space',\n  paddingRight: 'space',\n  paddingBottom: 'space',\n  paddingLeft: 'space',\n  paddingX: 'space',\n  paddingY: 'space',\n  top: 'space',\n  right: 'space',\n  bottom: 'space',\n  left: 'space',\n  gridGap: 'space',\n  gridColumnGap: 'space',\n  gridRowGap: 'space',\n  gap: 'space',\n  columnGap: 'space',\n  rowGap: 'space',\n  fontFamily: 'fonts',\n  fontSize: 'fontSizes',\n  fontWeight: 'fontWeights',\n  lineHeight: 'lineHeights',\n  letterSpacing: 'letterSpacings',\n  border: 'borders',\n  borderTop: 'borders',\n  borderRight: 'borders',\n  borderBottom: 'borders',\n  borderLeft: 'borders',\n  borderWidth: 'borderWidths',\n  borderStyle: 'borderStyles',\n  borderRadius: 'radii',\n  borderTopRightRadius: 'radii',\n  borderTopLeftRadius: 'radii',\n  borderBottomRightRadius: 'radii',\n  borderBottomLeftRadius: 'radii',\n  borderTopWidth: 'borderWidths',\n  borderTopColor: 'colors',\n  borderTopStyle: 'borderStyles',\n  borderBottomWidth: 'borderWidths',\n  borderBottomColor: 'colors',\n  borderBottomStyle: 'borderStyles',\n  borderLeftWidth: 'borderWidths',\n  borderLeftColor: 'colors',\n  borderLeftStyle: 'borderStyles',\n  borderRightWidth: 'borderWidths',\n  borderRightColor: 'colors',\n  borderRightStyle: 'borderStyles',\n  outlineColor: 'colors',\n  boxShadow: 'shadows',\n  textShadow: 'shadows',\n  zIndex: 'zIndices',\n  width: 'sizes',\n  minWidth: 'sizes',\n  maxWidth: 'sizes',\n  height: 'sizes',\n  minHeight: 'sizes',\n  maxHeight: 'sizes',\n  flexBasis: 'sizes',\n  size: 'sizes',\n  // svg\n  fill: 'colors',\n  stroke: 'colors',\n}\n\nconst positiveOrNegative = (scale, value) => {\n  if (typeof value !== 'number' || value >= 0) {\n    return get(scale, value, value)\n  }\n  const absolute = Math.abs(value)\n  const n = get(scale, absolute, absolute)\n  if (typeof n === 'string') return '-' + n\n  return n * -1\n}\n\nconst transforms = [\n  'margin',\n  'marginTop',\n  'marginRight',\n  'marginBottom',\n  'marginLeft',\n  'marginX',\n  'marginY',\n  'top',\n  'bottom',\n  'left',\n  'right',\n].reduce(\n  (acc, curr) => ({\n    ...acc,\n    [curr]: positiveOrNegative,\n  }),\n  {}\n)\n\nconst responsive = styles => theme => {\n  const next = {}\n  const breakpoints = get(theme, 'breakpoints', defaultBreakpoints)\n  const mediaQueries = [\n    null,\n    ...breakpoints.map(n => `@media screen and (min-width: ${n})`),\n  ]\n\n  for (const key in styles) {\n    const value =\n      typeof styles[key] === 'function' ? styles[key](theme) : styles[key]\n\n    if (value == null) continue\n    if (!Array.isArray(value)) {\n      next[key] = value\n      continue\n    }\n    for (let i = 0; i < value.slice(0, mediaQueries.length).length; i++) {\n      const media = mediaQueries[i]\n      if (!media) {\n        next[key] = value[i]\n        continue\n      }\n      next[media] = next[media] || {}\n      if (value[i] == null) continue\n      next[media][key] = value[i]\n    }\n  }\n\n  return next\n}\n\nexport const css = args => (props = {}) => {\n  const theme = { ...defaultTheme, ...(props.theme || props) }\n  let result = {}\n  const obj = typeof args === 'function' ? args(theme) : args\n  const styles = responsive(obj)(theme)\n\n  for (const key in styles) {\n    const x = styles[key]\n    const val = typeof x === 'function' ? x(theme) : x\n\n    if (key === 'variant') {\n      const variant = css(get(theme, val))(theme)\n      result = { ...result, ...variant }\n      continue\n    }\n\n    if (val && typeof val === 'object') {\n      result[key] = css(val)(theme)\n      continue\n    }\n\n    const prop = get(aliases, key, key)\n    const scaleName = get(scales, prop)\n    const scale = get(theme, scaleName, get(theme, prop, {}))\n    const transform = get(transforms, prop, get)\n    const value = transform(scale, val, val)\n\n    if (multiples[prop]) {\n      const dirs = multiples[prop]\n\n      for (let i = 0; i < dirs.length; i++) {\n        result[dirs[i]] = value\n      }\n    } else {\n      result[prop] = value\n    }\n  }\n\n  return result\n}\n"],"names":["get","obj","key","def","p","undef","split","length","const","defaultBreakpoints","map","n","defaultTheme","space","fontSizes","aliases","bg","m","mt","mr","mb","ml","mx","my","pt","pr","pb","pl","px","py","multiples","marginX","marginY","paddingX","paddingY","size","scales","color","backgroundColor","borderColor","caretColor","columnRuleColor","margin","marginTop","marginRight","marginBottom","marginLeft","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","top","right","bottom","left","gridGap","gridColumnGap","gridRowGap","gap","columnGap","rowGap","fontFamily","fontSize","fontWeight","lineHeight","letterSpacing","border","borderTop","borderRight","borderBottom","borderLeft","borderWidth","borderStyle","borderRadius","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","borderBottomLeftRadius","borderTopWidth","borderTopColor","borderTopStyle","borderBottomWidth","borderBottomColor","borderBottomStyle","borderLeftWidth","borderLeftColor","borderLeftStyle","borderRightWidth","borderRightColor","borderRightStyle","outlineColor","boxShadow","textShadow","zIndex","width","minWidth","maxWidth","height","minHeight","maxHeight","flexBasis","fill","stroke","positiveOrNegative","scale","value","absolute","Math","abs","transforms","reduce","acc","curr","responsive","styles","theme","next","breakpoints","mediaQueries","Array","isArray","let","i","slice","media","css","args","props","result","x","val","variant","prop","scaleName","transform","dirs"],"mappings":"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"}